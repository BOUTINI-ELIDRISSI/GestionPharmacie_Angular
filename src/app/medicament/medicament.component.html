<html>
    <head>
<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<title>Gestion des medicaments</title>
    </head>
    <body>
      <div class="text">Medicament</div>
       <hr>
        
          <div class="container">
            <button type="button" class="btn btn-outline-success" id="openModalBtn" (click)="openModal()"> Nouveau Medicament </button>
            <br><br>
             <!-- The Modal -->
          <div *ngIf="modalVisible" id="myModal" class="modal">
            <!-- Modal content -->
            <div class="modal-content">
              <span (click)="closeModal()" class="close">&times;</span>
              
              <nav class="navbar navbar-light justify-content-center fs-3 mb-5" style="background-color: #28b836;color: white;">
               Nouveau Medicament  
              </nav>        <hr>
                <div class="cont">
                    <table class="tbl">
                    <tr>
                        <td>Libelle</td> &nbsp;
                        <td><input type="text" [(ngModel)]="ajouter_med.libelle"></td>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <td> Description</td>&nbsp;
                        <td><textarea rows="4" cols="50" [(ngModel)]="ajouter_med.description" ></textarea></td>
                    </tr>
                    <tr>
                        <td >maladies</td>&nbsp;
                       <td> 
                        <input type="text" [(ngModel)]="maladie"> &nbsp;&nbsp;<button type="button" class="btn btn-outline-success" (click)="ajouter_maladie()"> + </button> 
                      </td>
                        

                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                       &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                       &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                       &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                       <td ><br>ordonnance</td>&nbsp;&nbsp;&nbsp;&nbsp;
                        <td><br>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="option" id="option1" [value]="true" [(ngModel)]="ajouter_med.ordonnance">
                          &nbsp;&nbsp;<label for="option1">Oui</label>
                          &nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" name="option" id="option2" [value]="false" [(ngModel)]="ajouter_med.ordonnance">
                          &nbsp;&nbsp; <label for="option2">Non</label>
                        </td>
                    </tr>
                   <tr>
                    <td></td>
                    <td></td>
                    <td>
                      <br>
                      <select multiple>
                        <option value="" style="color: blue;">Maladies : </option>
                        <option *ngFor="let item of ajouter_med.maladies" [value]="item">{{ item }}</option>
                      </select>
                    </td>
                   </tr>
                </table>
                <br>
                <button type="button" class="btn btn-outline-success" style="position: relative;left: 800px;bottom: 50px;" (click)="ajouter()"> Enregistrer </button>
      
                </div>
              
            </div>
          </div>
        <!-- update Modal content -->
          <div *ngIf="modalVisible2" id="myModal2" class="modal">
            <!-- Modal content -->
            <div class="modal-content">
              <span (click)="closeModal2()" class="close">&times;</span>
              
              <nav class="navbar navbar-light justify-content-center fs-3 mb-5" style="background-color: #28b836;color: white;">
               Modifier
              </nav>        <hr>
                <div class="cont">
                    <table class="tbl">
                      <tr>
                        <td>Libelle</td> &nbsp;
                        <td><input type="text" [(ngModel)]="update_med.libelle" disabled></td>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <td> Description</td>&nbsp;
                        <td><textarea rows="4" cols="50" [(ngModel)]="update_med.description" ></textarea></td>
                    </tr>
                    <tr>
                        <td>maladies</td>&nbsp;
                       <td> 
                        <input type="text" [(ngModel)]="maladie2">&nbsp;&nbsp;&nbsp; <button type="button" class="btn btn-outline-success" (click)="ajouter_maladie2()"> + </button> 
                       

                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                      </td><br>
                       &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                       &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                       &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                       <td ><br>ordonnance</td>&nbsp;&nbsp;&nbsp;&nbsp;
                        <td><br>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="option" id="option1" [value]="true" [(ngModel)]="update_med.ordonnance">
                          &nbsp;&nbsp;<label for="option1">Oui</label>
                          &nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="option" id="option2" [value]="false" [(ngModel)]="update_med.ordonnance">
                          &nbsp;&nbsp;<label for="option2">Non</label>
                        </td>
                    </tr>
                    <tr>
                      <td></td>
                      <td></td>
                      <td>
                         <br>
                         <select multiple>
                          <option value="" style="color: blue;">Maladies : </option>
                          <option *ngFor="let item of update_med.maladies" [value]="item">{{ item }}</option>
                        </select>
                      </td>
                    </tr>
                   
                </table>
                <br>
                <button type="button" class="btn btn-outline-success" style="position: relative;left: 800px;bottom: 50px;" (click)="update()"> Modifier </button>
                
                </div>
              
            </div>
          </div>
          <!-- the end of update Modal content -->


        <!--  delete Modal content -->
          <div *ngIf="modalVisible3" id="myModal3" class="modal">
            <!-- Modal content -->
            <div class="modal-content3">
              <span (click)="closeModal3()" class="close">&times;</span>
              <br><br>
              
              <nav class="navbar navbar-light justify-content-center fs-3 mb-5" style="background-color: #28b836;color: white;">
               Supprimer
              </nav>        <hr>
                <div class="name-field">
                    <p>Voulez-vous vraiment supprimer le medicament {{libelle_delete}}</p>
                <br>
                <button type="button" class="btn btn-outline-success" (click)="delete()"> Supprimer </button>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <button type="button" class="btn btn-outline-secondary" (click)="closeModal3()">Annuler</button>
                </div>
              
            </div>
          </div>

        <!-- the end of delete Modal content -->
          
      
         <!--  info Modal content -->
         <div *ngIf="modalVisibleinfo" id="myModal3" class="modal">
          <!-- Modal content -->
          <div class="modal-content3">
            <span (click)="closeModalinfo()" class="close">&times;</span>
            <br><br>
            
            <nav class="navbar navbar-light justify-content-center fs-3 mb-5" style="background-color: #28b836;color: white;">
             Information
            </nav>        <hr>
              <div class="name-field">
                  <p> <span style="color: blue;font-weight: 500;">Description </span><br>
                  <span style="margin-left: 50px;">{{info_med.description}}</span></p>
                   <span style="color: blue;font-weight: 500;">Maladies </span>
                    <ul *ngFor="let item of info_med.maladies">
                      <li>{{item}}</li>
                    </ul>
                  <p> <span style="color: blue;font-weight: 500;">Ordonnance </span> <br><span style="margin-left: 50px;"> &nbsp;&nbsp;&nbsp;&nbsp; {{info_med.ordonnance}} </span>
                  </p>
             
              </div>
            
          </div>
        </div>

      <!-- the end of info Modal content -->


            <table class="table table-hover text-center">
              <thead class="table-light">
                <tr>
                  <th scope="col">ID</th>
                  <th scope="col">Libelle </th>
                  <th scope="col" >Ordonnance</th>
                  <th>Details</th>
                  <td> 
                  </td>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of allmed">
                  <td>{{item.id}}</td>
                  <td>{{item.libelle}}</td>
                  <td>{{item.ordonnance}}</td>
                  <td> 
                    <span [routerLink]="['/menu/operations', item.libelle]" ><img src="assets/images/arrows.png" alt=""></span>
                    <span (click)="openModalinfo(item)"><img src="assets/images/about.png" alt=""></span>
                    <span  id="openModalBtn2" (click)="openModal2(item)"><img src="assets/images/implement.png" alt=""></span>

                    <span (click)="openModal3(item.id, item.libelle)" ><img src="assets/images/delete.png" alt=""></span>

                  </td>
              </tr>
              </tbody>
            </table>
          </div>
          
        </body>
</html>
